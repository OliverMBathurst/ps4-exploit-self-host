import React, { useContext, useMemo } from 'react'
import { DirectoryContext, FirmwareVersionContext } from '../../../../global/context'
import { FirmwareVersion } from '../../../../global/enums'
import './styles.scss'

interface IItemsContainerProps {
    children: React.ReactNode
}

const ItemsContainer = (props: IItemsContainerProps) => {
    const { children } = props
    const { currentDirectory } = useContext(DirectoryContext)
    const { firmwareVersion } = useContext(FirmwareVersionContext)

    const friendlyFirmwareVersionName = useMemo(() => {
        switch (firmwareVersion) {
            case FirmwareVersion.NinePointZeroZero:
                return "9.00"
            default:
                return "Undefined"
        }
    }, [firmwareVersion])

    if (!currentDirectory) {
        return null
    }

    return (
        <div className="items-container">
            <span className="items-container__header-text">
                Listing contents of: <b>{currentDirectory.name}</b>
            </span>
            <span className="items-container__sub-header-text">
                Selected Firmware Version: <b>{friendlyFirmwareVersionName}</b>
            </span>
            {children}
        </div>)
}

export default ItemsContainer