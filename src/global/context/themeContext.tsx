import React, { createContext, useEffect, useState } from 'react'
import { Themes } from '../constants'
import { ITheme } from '../interfaces'

interface IThemeContextComponentProps {
    children: React.ReactNode
}

interface IThemeContext {
    theme: ITheme
    onThemeChange: (theme: ITheme) => void
}

export const ThemeContext = createContext<IThemeContext>({
    theme: Themes[0],
    onThemeChange: (_: ITheme) => { }
})

const ThemeContextComponent = (props: IThemeContextComponentProps) => {
    const { children } = props
    const [theme, setTheme] = useState<ITheme>(Themes[0])

    useEffect(() => {
        //get theme from local storage, set
    }, [])

    useEffect(() => {
        //set theme in local storage
    }, [theme])

    return (
        <ThemeContext.Provider value={{
            theme: theme,
            onThemeChange: setTheme
        }}>
            {children}
        </ThemeContext.Provider>)
}

export default ThemeContextComponent