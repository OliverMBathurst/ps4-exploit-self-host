import React, { memo, useContext } from 'react'
import { ThemeContext } from '../../context'
import { IAppDescriptor } from '../../interfaces'
import './styles.scss'

interface IAppSwitcherPaneProps {
    apps: IAppDescriptor[]
    selected: number
    onAppSelected: (appId: number) => void
}

const AppSwitcherPane = (props: IAppSwitcherPaneProps) => {
    const {
        apps,
        selected,
        onAppSelected
    } = props

    const { theme } = useContext(ThemeContext)

    return (
        <div className={`app-switcher-pane--${theme.styleName} centralized`}>
            <div className="app-switcher-pane__header-container">
                {apps.map(app => {
                    const {
                        id,
                        title
                    } = app

                    return (
                        <button
                            key={id}
                            onClick={() => selected !== id && onAppSelected(id)}
                            className={`app-switcher-pane__header-container__header medium-text ${selected === id ? "disabled-button" : ""}`}
                        >
                            {title}
                        </button>)
                })}
            </div>
        </div>)
}

export default memo(AppSwitcherPane)