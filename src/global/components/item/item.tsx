import React, { useCallback, useMemo } from 'react'
import { DirectoryIcon, FileIcon } from '../../../assets'
import { ItemType } from '../../enums'
import './styles.scss'

interface IItemProps {
    text: string
    title: string
    color?: string
    itemType: ItemType
    onClick: () => void
}

const Item = (props: IItemProps) => {
    const {
        text,
        title,
        itemType,
        color = "#FFFFFF",
        onClick
    } = props

    const style = useMemo(() => {
        return {
            background: color
        }
    }, [color])

    const Icon = useCallback(() => {
        switch (itemType) {
            case ItemType.Payload:
                return <FileIcon />
            case ItemType.Directory:
            default:
                return <DirectoryIcon />
        }
    }, [itemType])

    return (
        <div
            className="item clickable-item bordered-item"
            style={style}
            title={title}
            onClick={onClick}
        >
            <Icon />
            <span className="item__text medium-text noselect">
                {text}
            </span>
        </div>)
}

export default Item