import React, { useContext } from 'react'
import { CacheContext, ThemeContext } from '../../../../../global/context'
import './styles.scss'

const BrowserControls = () => {
    const {
        onCacheManifests,
        onClearCachedManifests,
        hasCachedManifests
    } = useContext(CacheContext)

    const { theme } = useContext(ThemeContext)

    const { clearPayloadCache } = useContext(CacheContext)

    return (
        <div className={`browser-controls--${theme.styleName}`}>
            <div className="browser-controls__header">
                <span className="browser-controls__header__text large-text">
                    File Browser
                </span>
            </div>
            <div className="browser-controls__buttons">
                <button className="browser-controls__buttons__cache clickable-item transparent-button" onClick={onCacheManifests}>
                    <span className="browser-controls__buttons__cache__text no-select medium-text">
                        {`${hasCachedManifests ? "Re-cache" : "Cache"} Manifests`}
                    </span>
                </button>
                <button className="browser-controls__buttons__clear-cache clickable-item medium-text transparent-button" onClick={onClearCachedManifests}>
                    <span className="browser-controls__buttons__clear-cache__text no-select">
                        Clear Manifest Cache
                    </span>
                </button>
                <button className="browser-controls__buttons__clear-cache clickable-item medium-text transparent-button" onClick={clearPayloadCache}>
                    <span className="browser-controls__buttons__clear-cache__text no-select">
                        Clear Payload Cache
                    </span>
                </button>
            </div>
        </div>)
}

export default BrowserControls